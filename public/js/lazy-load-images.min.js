window.addEventListener&&window.requestAnimationFrame&&document.getElementsByClassName&&window.addEventListener("load",function(){var r,e,s=document.getElementsByClassName("lazy-load replace");(window.addEventListener("scroll",t,!1),window.addEventListener("resize",t,!1),MutationObserver)&&new MutationObserver(function(){s.length!==r&&n()}).observe(document.body,{subtree:!0,childList:!0,attributes:!0,characterData:!0});function t(){e=e||setTimeout(function(){e=null,n()},300)}function n(){s.length&&requestAnimationFrame(function(){for(var e,t,n=window.pageYOffset,i=n+window.innerHeight,a=0;a<s.length;)n<(t=n+(e=s[a].getBoundingClientRect()).top)+e.height&&t<i?(o(s[a]),s[a].classList.remove("replace")):a++;r=s.length})}function o(t){var n=t&&(t.getAttribute("data-href")||t.href);if(n){var i=new Image;t.dataset&&(i.srcset=t.dataset.srcset||"",i.sizes=t.dataset.sizes||""),i.src=n,i.className="reveal",i.complete?e():i.onload=e}function e(){requestAnimationFrame(function(){n===t.href&&(t.style.cursor="default",t.addEventListener("click",function(e){e.preventDefault()},!1));var e=t.querySelector&&t.querySelector("img.preview");t.insertBefore(i,e&&e.nextSibling).addEventListener("animationend",function(){e&&(i.alt=e.alt||"",t.removeChild(e)),i.classList.remove("reveal")})})}}n()},!1);